<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini View Source</title>
<style>
  body { background: #121212; color: #f0f0f0; font-family: monospace; padding: 20px; }
  input, button { padding: 8px; margin: 5px 0; width: 100%; font-family: monospace; }
  button { background: #1f1f1f; color: #fff; border: none; cursor: pointer; }
  button:hover { background: #333; }
  pre { background: #1e1e1e; padding: 10px; overflow-x: auto; max-height: 80vh; white-space: pre-wrap; word-wrap: break-word; }
</style>
</head>
<body>
<h2>Mini View Source</h2>
<p>Entre une URL et clique sur "Voir le code"</p>
<input type="text" id="urlInput" placeholder="https://exemple.com">
<button onclick="fetchSource()">Voir le code</button>
<pre id="sourceDisplay">Le code source apparaîtra ici...</pre>

<script>
async function fetchSource() {
    const url = document.getElementById('urlInput').value;
    const display = document.getElementById('sourceDisplay');
    if(!url) return alert("Entre une URL valide !");
    
    display.textContent = "Chargement...";
    
    try {
        const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);
        if(!response.ok) throw new Error("Impossible de récupérer le site");
        const data = await response.json();
        display.textContent = data.contents;
    } catch(err) {
        display.textContent = "Erreur : " + err.message;
    }
}
</script>
</body>
</html>
